To resolve the issue of outdated dependencies causing violations in the IQ server, you need to explicitly override the xstream and commons-io dependency versions in your pom.xml. Below is the updated version of your pom.xml with the required changes, including highlights of the modifications made:

Updated pom.xml

<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.abnamro.crms</groupId>
        <artifactId>creditrisksignallingintl</artifactId>
        <version>${revision}</version>
    </parent>

    <artifactId>creditrisksignallingintl-batch</artifactId>
    <packaging>jar</packaging>
    <name>creditrisksignallingintl-batch</name>

    <properties>
        <drools.version>7.73.0.Final</drools.version>
        <!-- Highlight: Added properties for new versions -->
        <commons-io.version>2.15.0</commons-io.version>
        <xstream.version>1.4.21</xstream.version>
    </properties>

    <dependencies>
        <!-- Import dependency management from Spring Boot -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-dependencies</artifactId>
            <version>${springframework.boot.version}</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>

        <!-- Drools dependency with version updates -->
        <dependency>
            <groupId>org.drools</groupId>
            <artifactId>drools-mvel</artifactId>
            <version>${drools.version}</version>
            <exclusions>
                <!-- Highlight: Excluded old commons-io and xstream -->
                <exclusion>
                    <groupId>commons-io</groupId>
                    <artifactId>commons-io</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.thoughtworks.xstream</groupId>
                    <artifactId>xstream</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <!-- Added new explicit dependencies -->
        <dependency>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
            <version>${commons-io.version}</version>
        </dependency>
        <dependency>
            <groupId>com.thoughtworks.xstream</groupId>
            <artifactId>xstream</artifactId>
            <version>${xstream.version}</version>
        </dependency>

        <!-- JUnit for testing -->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <executions>
                    <execution>
                        <goals>
                            <goal>repackage</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <finalName>${project.parent.artifactId}</finalName>
                </configuration>
            </plugin>
        </plugins>
        <resources>
            <resource>
                <directory>src/main/script</directory>
                <includes>
                    <include>**/*.sh</include>
                    <include>**/*.json</include>
                </includes>
            </resource>
            <resource>
                <directory>src/main/resources</directory>
                <includes>
                    <include>META-INF/*.xml</include>
                    <include>**/*.properties</include>
                    <include>**/*.xml</include>
                    <include>/rule/*.drl</include>
                </includes>
            </resource>
        </resources>
    </build>
</project>

Highlights of Changes

1. Added Properties for Version Management:

<commons-io.version>2.15.0</commons-io.version>

<xstream.version>1.4.21</xstream.version>



2. Updated Exclusions in drools-mvel:

Excluded old versions of commons-io and xstream.



3. Added Explicit Dependencies:

Added commons-io and xstream dependencies with the new versions.



4. General Formatting Fixes:

Improved XML structure for better readability and completeness.




Next Steps

Run mvn clean install to verify the build works locally.

Ensure your CI pipeline uses the updated pom.xml.

Commit and push the changes to trigger the CI pipeline. Ensure it passes successfully.


Let me know if you encounter any further issues!

